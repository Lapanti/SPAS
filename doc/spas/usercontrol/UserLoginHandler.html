<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="fi">
<head>
<!-- Generated by javadoc (version 1.7.0_10) on Wed Jan 16 21:43:58 EET 2013 -->
<title>UserLoginHandler</title>
<meta name="date" content="2013-01-16">
<link rel="stylesheet" type="text/css" href="../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="UserLoginHandler";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/UserLoginHandler.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-files/index-1.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../spas/usercontrol/UserHandler.html" title="class in spas.usercontrol"><span class="strong">Prev Class</span></a></li>
<li>Next Class</li>
</ul>
<ul class="navList">
<li><a href="../../index.html?spas/usercontrol/UserLoginHandler.html" target="_top">Frames</a></li>
<li><a href="UserLoginHandler.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">spas.usercontrol</div>
<h2 title="Class UserLoginHandler" class="title">Class UserLoginHandler</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>spas.usercontrol.UserLoginHandler</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="strong">UserLoginHandler</span>
extends java.lang.Object</pre>
<div class="block">Class for creating and reading user's login information. None of the methods
 in this class are public for security reasons. If you change the
 implementation of this classes methods you can easily change the user
 database-system to another one. This version uses XML-files to not be reliant
 on server's databases.</div>
<dl><dt><span class="strong">Since:</span></dt>
  <dd>0.1</dd>
<dt><span class="strong">Version:</span></dt>
  <dd>1.2.1</dd>
<dt><span class="strong">Author:</span></dt>
  <dd>Lauri Lavanti</dd>
<dt><span class="strong">See Also:</span></dt><dd><a href="../../spas/usercontrol/UserHandler.html" title="class in spas.usercontrol"><code>UserHandler</code></a></dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private java.io.File</code></td>
<td class="colLast"><code><strong><a href="../../spas/usercontrol/UserLoginHandler.html#userfile">userfile</a></strong></code>
<div class="block">The file containing user's file.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../spas/usercontrol/UserLoginHandler.html#UserLoginHandler()">UserLoginHandler</a></strong>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) boolean</code></td>
<td class="colLast"><code><strong><a href="../../spas/usercontrol/UserLoginHandler.html#changeEmail(java.lang.String, java.lang.String)">changeEmail</a></strong>(java.lang.String&nbsp;username,
           java.lang.String&nbsp;newmail)</code>
<div class="block">Changes user's registered email.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) boolean</code></td>
<td class="colLast"><code><strong><a href="../../spas/usercontrol/UserLoginHandler.html#changePassword(java.lang.String, java.lang.String, java.lang.String)">changePassword</a></strong>(java.lang.String&nbsp;username,
              java.lang.String&nbsp;pword,
              java.lang.String&nbsp;salt)</code>
<div class="block">Changes user's registered password.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) boolean</code></td>
<td class="colLast"><code><strong><a href="../../spas/usercontrol/UserLoginHandler.html#changeSessionId(java.lang.String, java.lang.String)">changeSessionId</a></strong>(java.lang.String&nbsp;username,
               java.lang.String&nbsp;id)</code>
<div class="block">Changes user's saved session-id.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) boolean</code></td>
<td class="colLast"><code><strong><a href="../../spas/usercontrol/UserLoginHandler.html#deleteUser(java.lang.String)">deleteUser</a></strong>(java.lang.String&nbsp;username)</code>
<div class="block">Deletes user from database.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../spas/usercontrol/UserLoginHandler.html#getEmail(java.lang.String)">getEmail</a></strong>(java.lang.String&nbsp;username)</code>
<div class="block">Get user's email.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) java.lang.String[]</code></td>
<td class="colLast"><code><strong><a href="../../spas/usercontrol/UserLoginHandler.html#getPassword(java.lang.String)">getPassword</a></strong>(java.lang.String&nbsp;username)</code>
<div class="block">Gets user's registered password (encrypted) and the salt used in it's
 encryption.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) boolean</code></td>
<td class="colLast"><code><strong><a href="../../spas/usercontrol/UserLoginHandler.html#saveUser(java.lang.String, java.lang.String, java.lang.String, java.lang.String, java.lang.String)">saveUser</a></strong>(java.lang.String&nbsp;name,
        java.lang.String&nbsp;pword,
        java.lang.String&nbsp;salt,
        java.lang.String&nbsp;email,
        java.lang.String&nbsp;modelpath)</code>
<div class="block">Creates and saves the information for a new user.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><strong><a href="../../spas/usercontrol/UserLoginHandler.html#setUserfile(java.lang.String)">setUserfile</a></strong>(java.lang.String&nbsp;path)</code>
<div class="block">Sets path to user's file.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) boolean</code></td>
<td class="colLast"><code><strong><a href="../../spas/usercontrol/UserLoginHandler.html#userExists(java.lang.String)">userExists</a></strong>(java.lang.String&nbsp;username)</code>
<div class="block">Check to see if user actually exists.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) boolean</code></td>
<td class="colLast"><code><strong><a href="../../spas/usercontrol/UserLoginHandler.html#validateUser(java.lang.String, java.lang.String)">validateUser</a></strong>(java.lang.String&nbsp;username,
            java.lang.String&nbsp;id)</code>
<div class="block">Checks, if given session-id matches the one saved on file.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="userfile">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>userfile</h4>
<pre>private&nbsp;java.io.File userfile</pre>
<div class="block">The file containing user's file.</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="UserLoginHandler()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>UserLoginHandler</h4>
<pre>public&nbsp;UserLoginHandler()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="setUserfile(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setUserfile</h4>
<pre>void&nbsp;setUserfile(java.lang.String&nbsp;path)</pre>
<div class="block">Sets path to user's file. Must be set before doing anything else.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>path</code> - Absolute path to user's file.</dd></dl>
</li>
</ul>
<a name="saveUser(java.lang.String, java.lang.String, java.lang.String, java.lang.String, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>saveUser</h4>
<pre>boolean&nbsp;saveUser(java.lang.String&nbsp;name,
               java.lang.String&nbsp;pword,
               java.lang.String&nbsp;salt,
               java.lang.String&nbsp;email,
               java.lang.String&nbsp;modelpath)</pre>
<div class="block">Creates and saves the information for a new user.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>name</code> - User's login name.</dd><dd><code>pword</code> - User's encrypted password.</dd><dd><code>salt</code> - Salt used for password's encryption.</dd><dd><code>email</code> - User's email.</dd><dd><code>modelpath</code> - Path to the model of a user-file.</dd>
<dt><span class="strong">Returns:</span></dt><dd><code>true</code>, if and only if, nothing went wrong.</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../spas/usercontrol/UserHandler.html#createUser(java.lang.String, java.lang.String, java.lang.String, java.lang.String)"><code>Security-perspective.</code></a></dd></dl>
</li>
</ul>
<a name="deleteUser(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deleteUser</h4>
<pre>boolean&nbsp;deleteUser(java.lang.String&nbsp;username)</pre>
<div class="block">Deletes user from database. Be very careful when calling this, as it is
 final.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>username</code> - The user's name to be deleted.</dd>
<dt><span class="strong">Returns:</span></dt><dd><code>true</code>, if and only if, everything worked.</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../spas/usercontrol/UserHandler.html#removeUser(java.lang.String, java.lang.String)"><code>Security-perspective.</code></a></dd></dl>
</li>
</ul>
<a name="getPassword(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPassword</h4>
<pre>java.lang.String[]&nbsp;getPassword(java.lang.String&nbsp;username)</pre>
<div class="block">Gets user's registered password (encrypted) and the salt used in it's
 encryption.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>username</code> - User's registered login name.</dd>
<dt><span class="strong">Returns:</span></dt><dd>Array with password and salt, or <code>null</code> if something
         went wrong.</dd></dl>
</li>
</ul>
<a name="getEmail(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getEmail</h4>
<pre>java.lang.String&nbsp;getEmail(java.lang.String&nbsp;username)</pre>
<div class="block">Get user's email.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>username</code> - User's registered login name.</dd>
<dt><span class="strong">Returns:</span></dt><dd>User's registered email, or <code>null</code> if there was an
         error.</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../spas/usercontrol/UserHandler.html#getEmail(java.lang.String)"><code>Security-perspective.</code></a></dd></dl>
</li>
</ul>
<a name="changePassword(java.lang.String, java.lang.String, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>changePassword</h4>
<pre>boolean&nbsp;changePassword(java.lang.String&nbsp;username,
                     java.lang.String&nbsp;pword,
                     java.lang.String&nbsp;salt)</pre>
<div class="block">Changes user's registered password.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>username</code> - The user's login name.</dd><dd><code>pword</code> - The new password to be saved.</dd><dd><code>salt</code> - The salt used for password's encryption.</dd>
<dt><span class="strong">Returns:</span></dt><dd><code>true</code>, if and only if, nothing went wrong.</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../spas/usercontrol/UserHandler.html#changePassword(java.lang.String, java.lang.String, java.lang.String)"><code>Security-perspective.</code></a></dd></dl>
</li>
</ul>
<a name="changeEmail(java.lang.String, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>changeEmail</h4>
<pre>boolean&nbsp;changeEmail(java.lang.String&nbsp;username,
                  java.lang.String&nbsp;newmail)</pre>
<div class="block">Changes user's registered email.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>username</code> - The user's login name.</dd><dd><code>newmail</code> - New email to be saved.</dd>
<dt><span class="strong">Returns:</span></dt><dd><code>true</code>, if and only if, nothing goes wrong.</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../spas/usercontrol/UserHandler.html#changeEmail(java.lang.String, java.lang.String, java.lang.String)"><code>Security-perspective.</code></a></dd></dl>
</li>
</ul>
<a name="changeSessionId(java.lang.String, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>changeSessionId</h4>
<pre>boolean&nbsp;changeSessionId(java.lang.String&nbsp;username,
                      java.lang.String&nbsp;id)</pre>
<div class="block">Changes user's saved session-id.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>username</code> - User's registered login name.</dd><dd><code>id</code> - User's session-id.</dd>
<dt><span class="strong">Returns:</span></dt><dd><code>true</code>, if and only if, nothing went wrong.</dd></dl>
</li>
</ul>
<a name="validateUser(java.lang.String, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>validateUser</h4>
<pre>boolean&nbsp;validateUser(java.lang.String&nbsp;username,
                   java.lang.String&nbsp;id)</pre>
<div class="block">Checks, if given session-id matches the one saved on file.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>username</code> - User's registered login name.</dd><dd><code>id</code> - User's current session id.</dd>
<dt><span class="strong">Returns:</span></dt><dd><code>true</code>, if and only if, id matched the one on file.</dd></dl>
</li>
</ul>
<a name="userExists(java.lang.String)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>userExists</h4>
<pre>boolean&nbsp;userExists(java.lang.String&nbsp;username)</pre>
<div class="block">Check to see if user actually exists.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>username</code> - User's registered login name.</dd>
<dt><span class="strong">Returns:</span></dt><dd><code>true</code>, if and only if, user exists.</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/UserLoginHandler.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-files/index-1.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../spas/usercontrol/UserHandler.html" title="class in spas.usercontrol"><span class="strong">Prev Class</span></a></li>
<li>Next Class</li>
</ul>
<ul class="navList">
<li><a href="../../index.html?spas/usercontrol/UserLoginHandler.html" target="_top">Frames</a></li>
<li><a href="UserLoginHandler.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
